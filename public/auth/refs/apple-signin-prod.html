<!doctype html>
<html>

<head>
  <meta charset="utf-8" />
  <title>Apple Sign-In</title>
<!--
  <meta name="appleid-signin-client-id" content="[CLIENT_ID]">
  <meta name="appleid-signin-scope" content="[SCOPES]">
  <meta name="appleid-signin-redirect-uri" content="[REDIRECT_URI]">
  <meta name="appleid-signin-state" content="[STATE]">
  <meta name="appleid-signin-nonce" content="[NONCE]">
  <meta name="appleid-signin-use-popup" content="true"> <-- or false defaults to false ->
-->
<style>
.signin-button {
  width: 210px;
  height: 40px;
  border-radius: 10px;
}
.signin-button > div > div > svg {  
  height: 50px;  
  width: 100%;
  border-radius: 10px;
} 

</style>
</head>

<body>
  
  <div id="appleid-signin" data-color="black" data-border="true" data-type="sign in"></div>
  <script type="text/javascript" src="https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/en_US/appleid.auth.js"></script>
  <script type="text/javascript">
  // See https://developer.apple.com/documentation/sign_in_with_apple/sign_in_with_apple_js/configuring_your_webpage_for_sign_in_with_apple
    AppleID.auth.init({
        clientId : 'kr.joyfun.joyfit',
        scope : 'name email',
        redirectURI : 'https://joyfun.kr/carbonapi/connect/apple/callback',
        state : '[STATE]',
        nonce : '[NONCE]',
        usePopup : false //or false defaults to false
    });

    //Listen for authorization success
    document.addEventListener('AppleIDSignInOnSuccess', (data) => {
        //handle successful response
        console.log("SUCCESS:", data);
    });
    //Listen for authorization failures
    document.addEventListener('AppleIDSignInOnFailure', (error) => {
        //handle error.
        console.error("ERROR:", error);
    });

</script>

</body>
</html>
